{% extends "Base/base.html" %}

{% block hero_content %}

{% include 'Base/navbar2.html' %}
		
<!-- Top Breadcrubms -->
<div class="gray py-3">
	<div class="container">
		<div class="row">
			<div class="colxl-12 col-lg-12 col-md-12">
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb">
						<li class="breadcrumb-item"><a href="{% url 'App:index' %}">Home</a></li>
						<li class="breadcrumb-item"><a href="#">Support</a></li>
						<li class="breadcrumb-item active" aria-current="page">Shopping Cart</li>
					</ol>
				</nav>
			</div>
		</div>
	</div>
</div>
<!-- Top Breadcrubms -->

<!-- Product Detail -->
<section class="middle">
	<div class="container">
	
		<div class="row">
			<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
				<div class="text-center d-block mb-5">
					<h2>Shopping Cart</h2>
				</div>
			</div>
		</div>
		
		<div class="cart-content-wrapper">
			
			{% if cart and cart|length > 0 %}

			<div class="row justify-content-between">
				<div class="col-12 col-lg-7 col-md-12">
					{% for item in cart %}
					<div class="cart-item-wrapper cart-item-{{ item.id }}">
						<ul class="list-group list-group-sm list-group-flush-y list-group-flush-x mb-4">

							<li class="list-group-item">
								<div class="row align-items-center">
									<div class="col-3">
										<!-- Image -->
										<a href="javascript:void(0);"><img src="{{ item.image }}" alt="..." class="img-fluid"></a>
									</div>
									<div class="col d-flex align-items-center justify-content-between">
										<div class="cart_single_caption ps-2">
											<h4 class="product_title fs-md ft-medium mb-1 lh-1">{{ item.title }}</h4>
											<p class="mb-1 lh-1"><span class="text-dark">Size: {{ item.size }}</span></p>
											<p class="mb-3 lh-1"><span class="text-dark">Color: {{ item.color }}</span></p>
											<h4 class="fs-md ft-medium mb-3 lh-1 price" data-price="{{ item.price }}">
												${{ item.price|floatformat:2|floatformat }}
											</h4>
											<select class="form-select quantity-select" data-id="{{ item.id }}">
												{% for i in quantity_range %}
													<option value="{{ i }}" {% if item.quantity == i %}selected{% endif %}>{{ i }}</option>
												{% endfor %}
											</select>
										</div>
										<div class="fls_last">
											<button class="close_cart_item gray" data-id="{{ item.id }}">
												<i class="ti-close"></i>
											</button>
										</div>
									</div>
								</div>
							</li>
						</ul>
					</div>
					{% endfor %}

					<div class="row align-items-end justify-content-between mb-10 mb-md-0">
						<div class="col-12 col-md-7">
							<!-- Coupon -->
							<form class="mb-7 mb-md-0">
								<label class="fs-sm ft-medium text-dark">Coupon code:</label>
								<div class="row form-row">
									<div class="col">
										<input class="form-control" type="text" placeholder="Enter coupon code*">
									</div>
									<div class="col-auto">
										<button class="btn btn-dark" type="submit">Apply</button>
									</div>
								</div>
							</form>
						</div>
						<div class="col-12 col-md-auto mfliud">
							<button class="btn stretched-links borders">Update Cart</button>
						</div>
					</div>
				</div>
				<div class="col-12 col-lg-4">
					<div class="card mb-4 gray mfliud">
						<div class="card-body">
							<ul class="list-group list-group-sm list-group-flush-y list-group-flush-x">
								<li class="list-group-item d-flex text-dark fs-sm ft-regular">
								<span>Subtotal</span> 
								<span class="ms-auto text-dark ft-medium" id="cart-subtotal">${{ subtotal|floatformat:2 }}</span>
								</li>
								<li class="list-group-item d-flex text-dark fs-sm ft-regular">
								<span>Tax</span> 
								<span class="ms-auto text-dark ft-medium" id="cart-tax">${{ tax|floatformat:2 }}</span>
								</li>
								<li class="list-group-item d-flex text-dark fs-sm ft-regular">
								<span>Total</span> 
								<span class="ms-auto text-dark ft-medium" id="cart-total">${{ total|floatformat:2 }}</span>
								</li>
								<li class="list-group-item fs-sm text-center">
								Shipping cost calculated at Checkout *
								</li>
							</ul>
						</div>
					</div>
				
					<a class="btn btn-block btn-dark w-100 mb-3" href="{% url 'App:checkout' %}">Proceed to Checkout</a>
					
					<a class="btn-link text-dark ft-medium" href="{% url 'App:index' %}">
						<i class="ti-back-left me-2"></i> Continue Shopping
					</a>
				</div>
			</div>
			{% else %}
				<div class="d-flex flex-column justify-content-center align-items-center text-center" style="min-height: 400px;">
					<div>
						<img src="{% static 'app/img/cart.png' %}" class="img-fluid" width="100" alt="" />
					</div>
					<h2 class="mt-2 mb-2 ft-bold">Your Cart is empty!</h2>
					<p class="text-muted fs-6">Your Cart is empty please go to the shop page and Buy your favourite items.</p>
					<div class="position-relative text-center">
						<a href="{% url 'App:shop_style_1' %}" class="btn stretched-links borders">Shop Now</i></a>
					</div>
				</div>
			{% endif %}

		</div>
		
	</div>
</section>
<!-- Product Detail End -->

<!-- Customer Features -->
<section class="px-0 py-3 br-top">
	<div class="container">
		<div class="row">
			
			<!-- Components/blog-detail/features.html -->
            {% include 'Components/blog-detail/features.html' %}
			
		</div>
	</div>
</section>
<!-- Customer Features -->

<!-- Components/Home/index/quickview.html -->
{% include 'Components/Home/index/quickview.html' %}

<!-- Components/Home/index/log.html -->
{% include 'Components/Home/index/log.html' %}

<!-- Components/Home/index/search.html -->
{% include 'Components/Home/index/search.html' %}

<!-- Components/Home/index/wishlist.html -->
{% include 'Components/Home/index/wishlist.html' %}

<!-- Components/Home/index/cart.html -->
{% include 'Components/Home/index/cart.html' %}

{% include 'Base/footer.html' %} 

{% endblock %}